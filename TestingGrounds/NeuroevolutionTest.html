<!DOCTYPE html>
<html>
<title>Neuroevolution Test</title>

<script src="../cerebrum.js"></script>
<body>
	<center>
		<div id="networkData"></div>
		<canvas id="NetworkVisualizer" height="400px" width= "1000px"></canvas>
	</center>
	<script type="text/javascript">
		var neuroevolution;

		function neuroevolutionTestCase() {
			neuroevolution = new Neuroevolution({				
				inputNodes: 2,
				outputNodes: 1,
				mutationRates: {
					createConnection: 1,
					createNode: 1
				}
			});
			neuroevolution.createInitialPopulation();
			var mum = new Genome(1, 2);
			mum.genes.push(new Gene("INPUT:0", "OUTPUT:0", 1, 1));
			mum.genes.push(new Gene("INPUT:0", "OUTPUT:1", 1, 2));
			mum.genes.push(new Gene("INPUT:0", "HIDDEN:0", 1, 3));
			mum.genes.push(new Gene("HIDDEN:0", "OUTPUT:0", 1, 4));
			mum.genes.push(new Gene("HIDDEN:0", "OUTPUT:1", 1, 5));

			var dad = new Genome(1, 2);
			dad.genes.push(new Gene("INPUT:0", "OUTPUT:0", 1, 1));
			dad.genes.push(new Gene("INPUT:0", "HIDDEN:0", 1, 3));
			dad.genes.push(new Gene("HIDDEN:0", "OUTPUT:0", 1, 4));
			dad.genes.push(new Gene("HIDDEN:0", "OUTPUT:1", 1, 5));
			dad.genes.push(new Gene("HIDDEN:0", "OUTPUT:1", 1, 6));

			var child = neuroevolution.crossover(mum, dad);
			child.getNetwork().calculate();

			var visualizer = new NetworkVisualizer();
			visualizer.drawNetwork(child.getNetwork());
			return JSON.stringify(child.genes);
		}

		document.getElementById("networkData").innerHTML = neuroevolutionTestCase();
	</script>
</body>
</html>